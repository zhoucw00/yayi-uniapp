if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}__definePage("pages/index/index",((e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n})({__name:"index",setup(n){const r=e.ref(""),a=e.ref(""),o=e.ref(!1),l=e.ref(0),i=e.ref(""),c=e.ref(""),s=()=>{const e=new Date;r.value=e.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"年").replace(/\//g,"月")+"日";const t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");a.value=`${t}:${n}:${o}`},u=()=>{l.value++,l.value>=5&&(o.value=!0,l.value=0)},d=()=>{const e={serverAddress:i.value,localAddress:c.value};try{uni.setStorageSync("serverConfig",e),setTimeout((()=>{uni.showToast({title:"配置已保存",icon:"success",duration:2e3}),o.value=!1}),300)}catch(n){t("error","at pages/index/index.vue:100","保存配置失败:",n),uni.showToast({title:"保存失败",icon:"error",duration:2e3})}};let p=null;return e.onMounted((()=>{s(),p=setInterval(s,1e3)})),e.onBeforeUnmount((()=>{p&&clearInterval(p)})),(t,n)=>(e.openBlock(),e.createElementBlock("div",{class:"page-container"},[e.createElementVNode("div",{class:"outer-box"},[e.createElementVNode("div",{class:"inner-box"},[e.createElementVNode("div",{class:"date"},e.toDisplayString(r.value),1),e.createElementVNode("div",{class:"time"},e.toDisplayString(a.value),1)]),e.createElementVNode("div",{class:"reminder",onClick:u},"请保持安静，切勿喧哗")]),o.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"config-overlay",onClick:n[2]||(n[2]=e.withModifiers((e=>o.value=!1),["self"]))},[e.createElementVNode("div",{class:"config-popup"},[e.createElementVNode("div",{class:"config-content"},[e.createElementVNode("div",{class:"config-item"},[e.createElementVNode("label",null,"服务器地址："),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>i.value=e),type:"text",placeholder:"输入服务器IP"},null,512),[[e.vModelText,i.value]])]),e.createElementVNode("div",{class:"config-item"},[e.createElementVNode("label",null,"本机IP地址："),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>c.value=e),type:"text",placeholder:"输入本机IP"},null,512),[[e.vModelText,c.value]])]),e.createElementVNode("div",{class:"action-buttons"},[e.createElementVNode("button",{class:"confirm-btn",onClick:d},"确认")])])])])):e.createCommentVNode("",!0)]))}},[["__scopeId","data-v-9731479b"]]));const n={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:r,Vuex:a,Pinia:o}={app:e.createVueApp(n)};uni.Vuex=a,uni.Pinia=o,r.provide("__globalStyles",__uniConfig.styles),r._component.mpType="app",r._component.render=()=>{},r.mount("#app")}(Vue);
